{"version":3,"file":"main.js","mappings":";;;;;;;;;;;;;;;;;;;AAIqB;AACrB;AACO;AACP,4BAA4B,wDAAgB,CAAC,wDAAgB;AAC7D;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA,oCAAoC,UAAU;AAC9C;AACA,kBAAkB,MAAM;AACxB;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,gEAAwB;AAC5B,IAAI,8DAAsB;AAC1B;AACA;AACA,KAAK;AACL,iDAAiD,yDAAiB;AAClE;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,CAAQ;AACR;AACA,IAAI,gEAAwB;AAC5B,iDAAiD,yDAAiB;AAClE;AACA;AACA;AACO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,MAAM;AACnC,6BAA6B,QAAQ;AACrC;AACA,mCAAmC,qBAAqB,WAAW;AACnE;AACA;AACA;AACA;AACA,sBAAsB,kBAAkB;AACxC;AACA;AACA;AACA;AACA,kBAAkB;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE,MAAM;AAC9E;AACA,SAAS;AACT;;;;;;;;;;;;;;;;;;;ACxGO;AACA;AACA;AACA;AACA;AACP;AACO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;;;;;;;;;;;;;;AClBuD;AAOvC;AAMH;AAClB;AACA,kEAA0B;AAC1B;AACA;AACA;AACA,oCAAoC,wDAAgB,CAAC,wDAAgB;AACrE,YAAY,kDAAU;AACtB,YAAY,mDAAW;AACvB;AACA;AACA;AACA;AACA;AACA,gBAAgB,kDAAU;AAC1B,gBAAgB,wDAAgB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,wDAAgB;AAC5B;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,wBAAwB,sBAAsB;AAC9C;AACA;AACA;AACA;AACA,QAAQ,gEAAwB;AAChC,qDAAqD,yDAAiB;AACtE,QAAQ,yDAAiB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D,oBAAoB,WAAW;AAC9F,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,YAAY,kDAAU;AACtB,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,QAAQ,mDAAW;AACnB,GAAG;AACH;AACA;AACA,EAAE,kEAA0B;AAC5B;AACA,0CAA0C,qEAAqB;AAC/D,QAAQ,yEAAqB;AAC7B,MAAM;AACN,6CAA6C,qEAAqB;AAClE;AACA,GAAG;AACH;AACA,EAAE,sDAAc,2BAA2B,4BAA4B;AACvE,iDAAiD,4DAAoB,OAAO,4DAAoB;AAChG;;;;;;;;;;;;;;;;;AC7FuC;AAGlB;AACrB;AACA;AACA;AACO;AACP;AACA;AACA,YAAY,oDAAY;AACxB,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,wBAAwB,uEAA+B;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC1BA;;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;ACN4B;AACP","sources":["webpack://softum/./js/cards.js","webpack://softum/./js/constants.js","webpack://softum/./js/script.js","webpack://softum/./js/scroll-controller.js","webpack://softum/./style/style.css?8d5d","webpack://softum/webpack/bootstrap","webpack://softum/webpack/runtime/define property getters","webpack://softum/webpack/runtime/hasOwnProperty shorthand","webpack://softum/webpack/runtime/make namespace object","webpack://softum/./js/index.js"],"sourcesContent":["import { \r\n    cardsInfo,\r\n    cardsContainer,\r\n    createdCardsArray,\r\n} from './constants';\r\n\r\nexport function generateCard() {\r\n    let randomCardContent = cardsInfo.random(cardsInfo.length);\r\n    createCard(randomCardContent.title, randomCardContent.content);\r\n    cardOptions();\r\n}\r\n\r\n\r\nexport function createCard(title, content) {\r\n    let cardIndex = document.querySelectorAll('.card').length + 1;\r\n    let cardTemplate = `\r\n    <div class=\"card\" data-index=\"${cardIndex}\">\r\n        <div class=\"card-header\">\r\n            <h1>${title}</h1>\r\n        </div>\r\n        <div class=\"card-content\">\r\n            <p>${content}</p>\r\n        </div>\r\n        <div class=\"card-buttons\">\r\n            <button class=\"btn green-btn open-popup\">Открыть</button>\r\n            <button class=\"btn red-btn remove-card\">Удалить</button>\r\n        </div>\r\n        <div class=\"loading-wrapper\">\r\n            <div class=\"loading\"></div>\r\n        </div>\r\n    </div>`;\r\n    cardsContainer.innerHTML += cardTemplate;\r\n    createdCardsArray.push({\r\n        cardTitile: title,\r\n        cardContent: content\r\n    });\r\n    localStorage.setItem('cards', JSON.stringify(createdCardsArray));\r\n    // hideLoaderInCard();\r\n    hideLoader(cardIndex);\r\n}\r\n\r\nexport function cardOptions() {\r\n    const cardNavigation = document.querySelectorAll('.card-buttons');\r\n        cardNavigation.forEach((el)=> {\r\n            el.addEventListener('click', (e) => {\r\n                if(e.target.classList.contains('remove-card')) {\r\n                    const card = e.target.closest('.card');\r\n                    removeCard(card);\r\n                    refreshCardIndex();\r\n                } else {\r\n                    const card = e.target.closest('.card');\r\n                    const cardTitleTxt = card.querySelector('.card-header h1').innerText;\r\n                    const cardContentTxt = card.querySelector('.card-content p').innerText;\r\n                    showPopup(cardTitleTxt, cardContentTxt);\r\n                }\r\n            })\r\n        });\r\n  }\r\n\r\n export function removeCard(card) {\r\n    let index = card.getAttribute('data-index');\r\n    createdCardsArray.splice(index - 1, 1);\r\n    localStorage.setItem('cards', JSON.stringify(createdCardsArray));\r\n    card.remove();\r\n}\r\n\r\nexport function refreshCardIndex() {\r\n    const cards = document.querySelectorAll('.card');\r\n    cards.forEach((card, index)=> {\r\n        card.setAttribute('data-index', index + 1);\r\n    });\r\n  }\r\n\r\n  function showPopup(title, content) {\r\n    const popup = document.querySelector('.popup-overlay');\r\n    const addContent = popup.querySelector('.popup-content');\r\n    let cardPopupTemplate = \r\n        `<h2 class=\"title\">${title}</h2>\r\n        <p class=\"content\">${content}</p>`;\r\n        addContent.innerHTML = cardPopupTemplate;\r\n    popup.style.cssText = \"top: 0; visibility: visible; opacity: 1;\";\r\n  }\r\n\r\n//   function hideLoaderInCard() {\r\n//     const cards = document.querySelectorAll('.card');\r\n//     for(let i = 0; i < cards.length; i++) {\r\n//         let interval = setInterval(function(){\r\n//             setTimeout(function() {\r\n//                 const cardLoader = cards[i].querySelector('.loading-wrapper');\r\n//                 cardLoader.style.display = 'none';\r\n//               }, 3000); \r\n//         }, 0)\r\n//         if(i >= cards.length) {\r\n//             clearInterval(interval);\r\n//         }\r\n//     }\r\n// } \r\n \r\nfunction hideLoader(index) {\r\n\r\n    setTimeout(function () {\r\n        const cardsLoader = document.querySelector(`.card[data-index=\"${index}\"] .loading-wrapper`)\r\n        cardsLoader.style.display = 'none';\r\n        }, 3000);\r\n  }","export const headerNav = document.querySelector('.header-navbar');\r\nexport const cardsContainer = document.querySelector('.cards-container');\r\nexport const fillCards = document.getElementById('switch');\r\nexport const topBtn = document.getElementById('top-btn');\r\nexport let createdCardsArray = [];\r\n\r\nexport const cardsInfo = \r\n    [{\r\n        title: 'This is a title for a card',\r\n        content: 'A summary will also be present. Usually two to three brief sentences about the content on the detail page.'\r\n    },\r\n    {\r\n        title: 'Card title',\r\n        content: 'Some quick example text to build on the card title and make up the bulk of the card content.'\r\n    },\r\n    {\r\n        title: 'One more card title',\r\n        content: 'Lorem ipsum dolor sit amet consectetur, adipisicing elit. Vero, reprehenderit inventore! Quod recusandae et laborum explicabo asperiores velit facere nesciunt similique, odio delectus, quam modi. Quibusdam, optio. Saepe, itaque corporis?'\r\n    }]","import { filedCardsInWatchArea } from './scroll-controller';\r\nimport { \r\n    cardsInfo, \r\n    headerNav, \r\n    fillCards,\r\n    createdCardsArray,\r\n    topBtn\r\n} from './constants';\r\nimport { \r\n    createCard,\r\n    cardOptions,\r\n    removeCard,\r\n    refreshCardIndex\r\n } from './cards';\r\n\r\nheaderNav.addEventListener('click', (e)=> {\r\n    const type = e.target.getAttribute('data-type');\r\n    switch (type) {\r\n        case 'add-card':\r\n            let randomCardContent = cardsInfo.random(cardsInfo.length);\r\n            createCard(randomCardContent.title, randomCardContent.content);\r\n            cardOptions();\r\n            break;\r\n        case 'delete-card':\r\n            let cards = document.querySelectorAll('.card');\r\n            if (cards.length > 0) {\r\n                let lastCard = cards[cards.length - 1];\r\n                removeCard(lastCard);\r\n                refreshCardIndex();\r\n            }\r\n            break;\r\n        case 'fill-cards':\r\n            console.log('fill-cards');\r\n            break;\r\n        case 'clear-cards':\r\n            const cardsList = document.querySelectorAll('.cards-container .card');\r\n            clearCards(cardsList);\r\n            refreshCardIndex();\r\n            break;\r\n        case 'show-history':\r\n            console.log('show-history');\r\n            break;\r\n    }\r\n});\r\n\r\nfunction clearCards(cardsList) {\r\n    if(cardsList.length > 0) {\r\n        for (let i = 0; i < cardsList.length; i++) {\r\n            if (i > 0) {\r\n                cardsList[i].remove();\r\n            }\r\n        }\r\n        createdCardsArray.splice(1, cardsList.length - 1);\r\n        localStorage.setItem('cards', JSON.stringify(createdCardsArray));\r\n        fillCards.checked = false;\r\n    }\r\n}\r\n\r\n    /*get random element from array*/\r\n    Array.prototype.random = function () {\r\n    return this[Math.floor((Math.random()*this.length))];\r\n  }\r\n  \r\n  document.querySelector('.close-popup').addEventListener('click', function() {\r\n    this.closest('.popup-overlay').style.cssText = \"top: -300; visibility: hidden; opacity: 0;\";\r\n  });\r\n\r\n  function displayCreatedCards() {\r\n    let storedCards = JSON.parse(localStorage.getItem('cards'));\r\n    if(storedCards != null) {\r\n        storedCards.forEach((card) => {\r\n            createCard(card.cardTitile, card.cardContent);\r\n        })\r\n    }\r\n  }\r\n\r\n  document.addEventListener(\"DOMContentLoaded\", function(event) { \r\n        displayCreatedCards();\r\n        cardOptions();\r\n  });\r\n\r\n\r\n  fillCards.addEventListener('change', function() {\r\n    if (this.checked) {\r\n        window.addEventListener('scroll', filedCardsInWatchArea);\r\n        filedCardsInWatchArea();\r\n    } else {\r\n        window.removeEventListener('scroll', filedCardsInWatchArea);\r\n    }\r\n  });\r\n\r\n  topBtn.onclick = () => window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n  window.onscroll = () => window.scrollY > 500 ? topBtn.style.opacity = 1 : topBtn.style.opacity = 0;\r\n\r\n","import { generateCard } from './cards';\r\nimport {\r\n    cardsContainer,\r\n} from './constants';\r\n\r\nlet runfiledCardsInWatchArea = false;\r\n\r\nexport function filedCardsInWatchArea() {\r\n    if (!runfiledCardsInWatchArea && isLastVisible()) {\r\n        do {\r\n            generateCard();\r\n        } while (isLastVisible());\r\n        runfiledCardsInWatchArea = false;\r\n    }\r\n}\r\n\r\nfunction isLastVisible() {\r\n    const lastElement = cardsContainer.lastElementChild;\r\n    return isVisible(lastElement);\r\n}\r\n\r\nfunction isVisible(el) {\r\n    if (!el) return true\r\n    const b = el.getBoundingClientRect()\r\n    const isVisible =  b.bottom <= (window.innerHeight + 100)\r\n    return isVisible;\r\n}","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import '../style/style.css';\r\nimport './script.js';\r\n"],"names":[],"sourceRoot":""}